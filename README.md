# BlooBolt

## front

- React, redux(toolkit), Next, Tailwind
- 4040

## back

- Express, Sequelize
- 4080

## Out

- AWS

## 고안중인 리스트.

- 디자인시스템.
- 해시태그, 포스트내용, 포스트제목 검색기능.
- 최근추가된트레이서.
- rank 5: 1000, 4: 5000, 3: 10000, 2: 100000, 1: 1000000
- 사용자생성일
- scrap 기능
- 비밀번호찾기, 변경하기
- status는 전역 액션으로 실행해야 할듯
- 아바타 삭제
- 의견보내기
- pattern: {
  value:
  /(?=._\d{1,50})(?=._[~`!@#$%\^&*()-+=]{1,50})(?=.\*[a-zA-Z]{2,50}).{8,16}$/,
  message:
  '비밀번호를 8~16자로 영문 대소문자, 숫자, 특수기호를 조합해서 사용하세요. ',
  }
- 일정시간 후 로그아웃
- hashtag창 헤더, 블라인드는 검색제외

## 수정할거

- 모바일화면 포스트 크기 조절.
- 아바타 없으면 기본 이미지 설정. (aws)
- rankpoint front 반영.

## 구현 예정 기능.

- Rank는 RankPoint를 통해 일정 수치를 달성하면 자동으로 Rank가 상승함.
- user guide
- 7회 누적 report => 포스트 자동 블라인드, 14회 누적 report => 해당 사용자의 모든 포스트 영구 삭제 및 서비스 이용이 금지됨.

## 현재까지 구현 완료된 기능.

#### `정보 로드 관련 기능`

- 로딩중 전역 ui 표시.
- 콘텐츠에 해시태그가 존재하면 클릭시 해당 해시태그가 들어있는 포스트만 로드함.

#### `페이지 관련 기능`

#### `사용자 프로필 관련 기능`

- 프로필에는 사용자 활동 내역과 사용자 정보가 존재함.
- 사용자 활동 내역에는 업로드한 포스트, 트레이스 리스트가 표시됨.
- 사용자 정보에는 공개되는 정보와 비공개 개인 정보가 존재함.
- 공개 정보는 프로필 배너에 표시되며 다른 사람이 볼 수 있음. 옵션을 제공하여 공개 정보도 비공개 처리할 수 있음.
- 비공개 정보는 로그인 사용자 이외의 사용자가 볼 수 없음. 비공개 정보 중 이메일ID는 변경할 수 없으며 비밀번호는 별도의 페이지에서 사용자 확인 절차를 통해 변경이 가능함.

#### `포스트 관련 기능`

[토픽]

- 토픽과 콘텐츠, 이미지를 업로드 가능. 토픽은 빈칸으로 제출 가능하며 빈칸이면 '토픽 없음'으로 표시됨.

[해시태그]

- 콘텐츠에 해시 태그를 등록할 수 있으며 클릭하면 해당 해시태그만 있는 포스트가 로드됨.

[프롯]

- 프롯(==포스트 추천 기능), 포스트 업로더에 대한 트레이스(==팔로우) 등록 기능 제공. 자신의 포스트에 대한 프롯 기능은 금지됨.

[수정]

- 수정 기능은 토픽과 콘텐츠, 이미지 수정 모두 가능. 수정된 포스트는 포스트 앞면에 수정된 글임을 표시함.

[삭제와 블라인드]

- 삭제 기능은 무분별한 업로드+삭제 예방을 위해 신중히 사용하는 옵션. 삭제 수행 시 확인 절차를 알리고 확인 시 영구 삭제가 아닌 블라인드 처리. 블라인드 된 포스트는 복원이 가능하며 프롯, 댓글 기능은 복원되지만 수정 기능은 금지됨.
- 블라인드 된 포스트의 프롯, 댓글, 수정 기능이 금지됨. (정 내용을 가리고 싶다면 삭제하기 전 수정을 해야할 것)
- 블라인드 된 포스트는 타인에 의해 열람될 수 있으나 Rank 5인 사용자부터 가능함.

[신고]

- 포스트 신고는 작성자에 대한 신고로 간주함. 신고 요청시 신고 내용과 포스트 정보, 신고자 정보가 DB에 저장됨.
- 포스트 혹은 사용자가 8회 누적 신고를 받으면 해당 포스트가 영구 삭제되고 16회 누적 신고를 받으면 해당 사용자의 서비스 이용이 제한됨.

[검색]

- 키워드로 포스트 토픽 또는 내용과 일치하는 포스트를 찾아 결과를 불러옴.
- 블라인드된 포스트는 검색에서 제외함.

#### `랭크 관련 기능`

- Rank는 6~1이 존재하며 사용자의 참여도 수치를 의미함. Rank 9는 관리자를 의미.
- Rank의 초기 상태는 null이며 포스트 한 개를 작성하면 Rank 6으로 상승함.
- 포스트, 코멘트를 올릴 경우 10p, 프롯을 받거나 트레이스 요청을 받은 경우 100p가 부여됨. 포스트, 코멘트를 삭제하거나 프롯 취소, 트레이스 연결이 해제되면 받은 포인트가 회수됨. 코멘트를 올린 포스트가 자신의 포스트인 경우 포인트가 증가되지 않음.

#### `Report 관련 기능`

#### `Live Activation 관련 기능`

- stack; useInterval

### 알게된

- delete은 data를 못보냄. 쿼리로 보내야.

### 스택 변경사항

- redux 비동기액션 미들웨어 변경 : Saga 걷어내고 toolkit 적용. (saga가 익숙하지만 코드가 짧아서 더 좋을듯)

### 문제

- ALTER TABLE 명 CHANGE 반복현상

### 기록

- reducers는 단순히 동기적으로 자기자신의 state를 바꾸는 action들.
  extraReducers는 외부로부터 state가 바뀌는 경우를 처리하기 위함. login이나 logout 등은 createAsyncThunk를 통해 만든 액션. userSlice에서 이렇게 외부에서 생성한 createAsyncThunk같은 것을 대응하려면 extraReducers에 등록해야함. 비슷한 이유로 다른 슬라이스의 액션에서 내 슬라이스의 state를 바꾸려고 한다면 extraReducers에서 다른 슬라이스의 액션을 등록해야함.
